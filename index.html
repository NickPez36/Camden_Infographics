<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Camden FC: The Finals Blueprint</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 450px;
            max-height: 50vh;
        }
        .small-chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 45vh;
        }
        @media (max-width: 768px) {
            .chart-container {
                height: 400px;
                max-height: 60vh;
            }
             .small-chart-container {
                height: 300px;
            }
        }
        .kpi-card h3 {
            font-size: 3rem;
            font-weight: 900;
            line-height: 1;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <main class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-6xl font-black text-[#003F5C] uppercase tracking-wide">The Finals Blueprint</h1>
            <p class="text-xl text-[#374C80] mt-2">Camden FC's Data-Driven Path to Victory</p>
        </header>

        <section id="executive-summary" class="mb-12">
            <h2 class="text-3xl font-bold text-center mb-8 text-[#003F5C]">Four Keys to Dominance</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 text-center">
                <div class="kpi-card bg-white p-6 rounded-lg shadow-lg border-l-4 border-[#7A5195]">
                    <h3 class="text-[#7A5195]">+5.1</h3>
                    <p class="mt-2 font-semibold">More Clearances</p>
                    <p class="text-sm text-gray-600">Winning the battle at the source is non-negotiable.</p>
                </div>
                <div class="kpi-card bg-white p-6 rounded-lg shadow-lg border-l-4 border-[#BC5090]">
                    <h3 class="text-[#BC5090]">+24.5</h3>
                    <p class="mt-2 font-semibold">More Handballs</p>
                    <p class="text-sm text-gray-600">Our run-and-carry game starts with hands.</p>
                </div>
                <div class="kpi-card bg-white p-6 rounded-lg shadow-lg border-l-4 border-[#EF5675]">
                    <h3 class="text-[#EF5675]">-7.3</h3>
                    <p class="mt-2 font-semibold">Fewer Opp. Marks Inside 50</p>
                    <p class="text-sm text-gray-600">Shutting down their controlled entries is critical.</p>
                </div>
                <div class="kpi-card bg-white p-6 rounded-lg shadow-lg border-l-4 border-[#FF764A]">
                    <h3 class="text-[#FF764A]">+6.1%</h3>
                    <p class="mt-2 font-semibold">Higher Work Rate</p>
                    <p class="text-sm text-gray-600">Physical dominance underpins our statistical success.</p>
                </div>
            </div>
        </section>

        <section id="kpi-analysis" class="bg-white p-6 md:p-8 rounded-lg shadow-xl mb-12">
            <h2 class="text-3xl font-bold text-center mb-2 text-[#003F5C]">The Anatomy of a Winning Quarter</h2>
            <p class="text-center text-gray-600 mb-8 max-w-3xl mx-auto">The data provides a clear contrast between our performance in quarters we win versus quarters we lose. Our identity shines through when we dominate the contest and control the ball.</p>
            <div class="chart-container">
                <canvas id="kpiChart"></canvas>
            </div>
        </section>

        <section id="gps-analysis" class="bg-white p-6 md:p-8 rounded-lg shadow-xl mb-12">
            <h2 class="text-3xl font-bold text-center mb-2 text-[#003F5C]">The Physical Battle</h2>
            <p class="text-center text-gray-600 mb-8 max-w-3xl mx-auto">Our physical output directly correlates with success. In winning quarters, the team runs harder and with more intensity. Here's the breakdown across volume, distance, and effort metrics.</p>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-center">
                <div class="lg:col-span-1">
                    <h3 class="text-xl font-bold text-center text-[#374C80] mb-4">Work Rate & Efforts</h3>
                    <div class="small-chart-container">
                        <canvas id="gpsChartEfforts"></canvas>
                    </div>
                </div>
                <div class="lg:col-span-1">
                     <h3 class="text-xl font-bold text-center text-[#374C80] mb-4">High-Speed Running</h3>
                    <div class="small-chart-container">
                        <canvas id="gpsChartRunning"></canvas>
                    </div>
                </div>
                <div class="lg:col-span-1">
                     <h3 class="text-xl font-bold text-center text-[#374C80] mb-4">Total Distance Covered</h3>
                    <div class="small-chart-container">
                        <canvas id="gpsChartDistance"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="strategy" class="mb-12">
            <h2 class="text-3xl font-bold text-center mb-8 text-[#003F5C]">The Finals Game Plan</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                
                <div class="bg-white p-6 rounded-lg shadow-lg flex flex-col items-center text-center">
                    <div class="bg-[#7A5195] text-white rounded-full w-16 h-16 flex items-center justify-center text-3xl font-black mb-4">1</div>
                    <h3 class="text-xl font-bold text-[#003F5C] mb-2">Lean Into Stoppage Strength</h3>
                    <p class="text-gray-600 flex-grow">Our number one priority. Winning the clearance battle is the catalyst for our entire game plan and initiates our handball chains.</p>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-lg flex flex-col items-center text-center">
                    <div class="bg-[#BC5090] text-white rounded-full w-16 h-16 flex items-center justify-center text-3xl font-black mb-4">2</div>
                    <h3 class="text-xl font-bold text-[#003F5C] mb-2">Disrupt the Opposition's Exit</h3>
                    <p class="text-gray-600 flex-grow">Our key defensive vulnerability is conceding from fast, controlled opposition exits. We must force slow, panicked ball movement from their back half.</p>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-lg flex flex-col items-center text-center">
                    <div class="bg-[#EF5675] text-white rounded-full w-16 h-16 flex items-center justify-center text-3xl font-black mb-4">3</div>
                    <h3 class="text-xl font-bold text-[#003F5C] mb-2">Use GPS as an In-Game Indicator</h3>
                    <p class="text-gray-600 flex-grow">A drop in team work rate or sprint efforts is an early warning sign. Use this data at breaks as tangible feedback to lift intensity.</p>
                </div>
            </div>
        </section>

    </main>

    <footer class="text-center p-4 text-gray-500 text-sm">
        <p>Camden FC Analytics | Season Review for Finals</p>
    </footer>

    <script>
        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            } else {
                return label;
            }
        };

        window.onload = function() {
            const legendPlugin = {
                id: 'customLegend',
                afterDraw: (chart) => {
                    if (chart.canvas.id !== 'gpsChartEfforts') return;
                    const ctx = chart.ctx;
                    ctx.save();
                    const datasets = chart.data.datasets;
                    const {top, left, width} = chart.chartArea;
                    
                    let x = left + width / 2 - (datasets.length * 70) / 2;
                    const y = top - 30;

                    datasets.forEach((dataset, i) => {
                        ctx.fillStyle = dataset.backgroundColor;
                        ctx.fillRect(x, y, 15, 15);
                        ctx.fillStyle = '#003F5C';
                        ctx.font = '12px Inter';
                        ctx.fillText(dataset.label, x + 20, y + 12);
                        x += 120;
                    });
                    ctx.restore();
                }
            };
            
            Chart.register(legendPlugin);

            const kpiLabels = [
                'Disposals', 'Handballs', 'Clearances', 'Inside 50s', 
                ['Scores from', 'Stoppages'], ['Defensive 50', 'Exits'], 
                ['Opposition', 'Rebound 50s'], ['Opposition Marks', 'Inside 50']
            ];
            
            const kpiData = {
                labels: kpiLabels,
                datasets: [{
                    label: 'Won Quarters',
                    data: [101.1, 55.7, 12.3, 14.8, 11.2, 10.1, 8.9, 3.1],
                    backgroundColor: '#7A5195',
                    borderColor: '#7A5195',
                    borderWidth: 1
                }, {
                    label: 'Lost Quarters',
                    data: [85.3, 31.2, 7.2, 9.5, 4.1, 7.8, 15.0, 10.4],
                    backgroundColor: '#EF5675',
                    borderColor: '#EF5675',
                    borderWidth: 1
                }]
            };

            const kpiConfig = {
                type: 'bar',
                data: kpiData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true, ticks: { color: '#374C80' }, grid: { color: '#e0e7ff' } },
                        x: { ticks: { color: '#374C80' }, grid: { display: false } }
                    },
                    plugins: {
                        legend: { position: 'top', labels: { color: '#003F5C' } },
                        tooltip: { callbacks: { title: tooltipTitleCallback } }
                    }
                }
            };

            const commonGpsOptions = {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: { beginAtZero: true, ticks: { color: '#374C80' }, grid: { color: '#e0e7ff' } },
                    x: { ticks: { color: '#374C80' }, grid: { display: false } }
                },
                plugins: {
                    legend: { display: false },
                    tooltip: { callbacks: { title: tooltipTitleCallback } }
                }
            };
            
            const gpsDataEfforts = {
                labels: [['Avg. Work Rate', '[m/min]'], ['Sprint', 'Efforts'], ['Hard Running', 'Efforts']],
                datasets: [
                    { label: 'Won Quarters', data: [89.5, 81, 195], backgroundColor: '#374C80' },
                    { label: 'Lost Quarters', data: [84.3, 69, 178], backgroundColor: '#FF764A' }
                ]
            };

            const gpsDataRunning = {
                labels: [['Sprint Dist.', '[m]'], ['Hard Running', '[m]']],
                datasets: [
                    { label: 'Won Quarters', data: [988, 2540], backgroundColor: '#374C80' },
                    { label: 'Lost Quarters', data: [855, 2310], backgroundColor: '#FF764A' }
                ]
            };

            const gpsDataDistance = {
                labels: [['Total Dist.', '[m]']],
                datasets: [
                    { label: 'Won Quarters', data: [28112], backgroundColor: '#374C80' },
                    { label: 'Lost Quarters', data: [26950], backgroundColor: '#FF764A' }
                ]
            };

            new Chart(document.getElementById('kpiChart').getContext('2d'), kpiConfig);
            
            const configEfforts = {type: 'bar', options: commonGpsOptions, data: gpsDataEfforts};
            new Chart(document.getElementById('gpsChartEfforts').getContext('2d'), configEfforts);

            const configRunning = {type: 'bar', options: commonGpsOptions, data: gpsDataRunning};
            new Chart(document.getElementById('gpsChartRunning').getContext('2d'), configRunning);
            
            const distanceOptions = JSON.parse(JSON.stringify(commonGpsOptions));
            distanceOptions.scales.y.ticks = {
                color: '#374C80',
                callback: function(value) { if (value >= 1000) return value / 1000 + 'k'; return value; }
            };
            const configDistance = {type: 'bar', options: distanceOptions, data: gpsDataDistance};
            new Chart(document.getElementById('gpsChartDistance').getContext('2d'), configDistance);
        };
    </script>
</body>
</html>
